(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[116],{4057:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:d="",children:c,iconNode:m,...u}=e;return(0,a.createElement)("svg",{ref:t,...l,width:s,height:s,stroke:r,strokeWidth:i?24*Number(o)/Number(s):o,className:n("lucide",d),...u},[...m.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),i=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:i,...d}=r;return(0,a.createElement)(o,{ref:l,iconNode:t,className:n("lucide-".concat(s(e)),i),...d})});return r.displayName="".concat(e),r}},5320:(e,t,r)=>{"use strict";r.d(t,{As:()=>c,AuthProvider:()=>d});var a=r(5155),s=r(2115),n=r(9208);let l=(0,s.createContext)(void 0),o="admin",i="echoit_admin_auth",d=e=>{let{children:t}=e,[r,d]=(0,s.useState)(!1),[c,m]=(0,s.useState)(null),[u,h]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=!0;return(async()=>{try{{let t=localStorage.getItem(i);if(t){let r=JSON.parse(t);if(r.username===o&&e){d(!0),m(r.username),h(!0);return}}}let t=n.A.get("admin_auth");if(t){let r=JSON.parse(t);r.username===o&&e&&(d(!0),m(r.username),localStorage.setItem(i,JSON.stringify({username:r.username})))}}catch(e){console.error("Failed to parse auth data:",e),n.A.remove("admin_auth"),localStorage.removeItem(i)}finally{e&&h(!0)}})(),()=>{e=!1}},[]),(0,a.jsx)(l.Provider,{value:{isAuthenticated:r,isInitialized:u,login:(e,t)=>{if(e===o&&"echoit1111@"===t){d(!0),m(e);let t=JSON.stringify({username:e});return n.A.set("admin_auth",t,{expires:7,secure:!0,sameSite:"lax"}),localStorage.setItem(i,t),!0}return!1},logout:()=>{d(!1),m(null),n.A.remove("admin_auth"),localStorage.removeItem(i)},user:c},children:t})},c=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6046:(e,t,r)=>{"use strict";var a=r(6658);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},6535:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4057).A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},6774:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(5155),s=r(2115),n=r(6046),l=r(5320),o=r(5565),i=r(4057);let d=(0,i.A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var c=r(6535),m=r(8482);let u=(0,i.A)("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),h=(0,i.A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),g=(0,i.A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),x=(0,i.A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);var b=r(9208);function p(){let{login:e,isAuthenticated:t,isInitialized:r}=(0,l.As)();(0,n.useRouter)();let[i,p]=(0,s.useState)(""),[f,y]=(0,s.useState)(""),[k,v]=(0,s.useState)(""),[w,j]=(0,s.useState)(!1),[N,S]=(0,s.useState)(!1),[A,_]=(0,s.useState)(!1),[C,I]=(0,s.useState)(!1),[E,M]=(0,s.useState)(!1),[O,F]=(0,s.useState)(0),[R,z]=(0,s.useState)(!1),[L,D]=(0,s.useState)(0);(0,s.useEffect)(()=>{if(r)try{let e=localStorage.getItem("admin_theme");"dark"===e&&(M(!0),document.documentElement.classList.add("dark"));let t=b.A.get("admin_remember");if(t)try{let e=JSON.parse(t);e.username&&(p(e.username),I(!0))}catch(e){console.error("Failed to parse remembered user",e)}let r=localStorage.getItem("admin_locked_until");if(r){let e=parseInt(r,10),t=Date.now();if(t<e){z(!0),D(Math.ceil((e-t)/1e3));let r=setInterval(()=>{D(e=>e<=1?(z(!1),clearInterval(r),localStorage.removeItem("admin_locked_until"),0):e-1)},1e3);return()=>clearInterval(r)}localStorage.removeItem("admin_locked_until")}}catch(e){console.error("Error initializing login page:",e)}},[r]),(0,s.useEffect)(()=>{r&&t&&(_(!0),window.location.href="/admin")},[t,r]);let P=e=>{let t=Math.floor(e/60);return"".concat(t,":").concat((e%60).toString().padStart(2,"0"))};return r?A?(0,a.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center ".concat(E?"dark bg-gray-900":"bg-gray-100"),children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md text-center",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)(d,{className:"h-12 w-12 text-blue-500 dark:text-blue-400"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2 text-gray-800 dark:text-white",children:"인증 성공!"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"관리자 페이지로 이동 중입니다..."}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:(0,a.jsx)("div",{className:"bg-blue-600 dark:bg-blue-500 h-2 rounded-full animate-pulse"})}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"잠시만 기다려주세요..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen flex flex-col ".concat(E?"dark bg-gray-900":"bg-gray-100"," py-12 px-4 sm:px-6 lg:px-8"),children:[(0,a.jsx)("div",{className:"absolute top-4 right-4",children:(0,a.jsx)("button",{onClick:()=>{M(e=>{let t=!e;return t?(document.documentElement.classList.add("dark"),localStorage.setItem("admin_theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("admin_theme","light")),t})},className:"p-2 rounded-full bg-white dark:bg-gray-800 shadow hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:E?(0,a.jsx)(c.A,{className:"h-5 w-5 text-yellow-500"}):(0,a.jsx)(m.A,{className:"h-5 w-5 text-gray-600"})})}),(0,a.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 py-8 px-10 shadow-lg rounded-lg",children:[(0,a.jsx)("div",{className:"mb-8 flex justify-center",children:(0,a.jsx)("div",{className:"relative h-12 w-48",children:(0,a.jsx)(o.default,{src:"https://ext.same-assets.com/1397033195/831049508.png",alt:"Echo IT Logo",fill:!0,style:{objectFit:"contain"},priority:!0})})}),(0,a.jsx)("h2",{className:"mb-6 text-center text-2xl font-bold text-gray-800 dark:text-white",children:"관리자 로그인"}),k&&(0,a.jsxs)("div",{className:"mb-4 rounded-md bg-red-50 dark:bg-red-900/30 p-3 text-sm text-red-600 dark:text-red-300 flex items-center animate-fadeIn",children:[(0,a.jsx)(u,{className:"w-5 h-5 mr-2 flex-shrink-0"}),(0,a.jsx)("p",{children:k})]}),(0,a.jsxs)("form",{className:"space-y-6",onSubmit:t=>{if(t.preventDefault(),v(""),R){v("계정이 잠겼습니다. ".concat(P(L)," 후에 다시 시도해주세요."));return}if(j(!0),!i||!f){v("사용자 이름과 비밀번호를 입력해주세요."),j(!1);return}setTimeout(()=>{if(e(i,f))C?b.A.set("admin_remember",JSON.stringify({username:i}),{expires:30,secure:!0,sameSite:"lax"}):b.A.remove("admin_remember"),F(0),localStorage.removeItem("admin_login_attempts"),_(!0),window.location.href="/admin";else{let e=O+1;if(F(e),localStorage.setItem("admin_login_attempts",e.toString()),e>=5){let e=Date.now()+12e4;localStorage.setItem("admin_locked_until",e.toString()),z(!0),D(120),v("로그인 시도가 너무 많습니다. 계정이 2분 동안 잠겼습니다.")}else v("사용자 이름 또는 비밀번호가 올바르지 않습니다. (남은 시도: ".concat(5-e,"회)"));y(""),j(!1)}},800)},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"사용자 이름"}),(0,a.jsx)("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none",value:i,onChange:e=>p(e.target.value),disabled:R||w})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"비밀번호"}),(0,a.jsxs)("div",{className:"relative mt-1",children:[(0,a.jsx)("input",{id:"password",name:"password",type:N?"text":"password",autoComplete:"current-password",required:!0,className:"block w-full rounded-md border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none pr-10",value:f,onChange:e=>y(e.target.value),disabled:R||w}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",onClick:()=>{S(!N)},disabled:R||w,children:N?(0,a.jsx)(h,{className:"h-5 w-5"}):(0,a.jsx)(g,{className:"h-5 w-5"})})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded dark:border-gray-600 dark:bg-gray-700",checked:C,onChange:e=>I(e.target.checked),disabled:R||w}),(0,a.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"사용자 이름 저장"})]})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:R||w,className:"flex w-full justify-center rounded-md border border-transparent bg-blue-600 dark:bg-blue-500 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-blue-700 dark:hover:bg-blue-600 focus:outline-none transition-colors ".concat(R||w?"opacity-70 cursor-not-allowed":""),children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin mr-2 h-4 w-4 border-2 border-white border-opacity-20 border-t-white rounded-full"}),"로그인 중..."]}):R?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d,{className:"mr-2 h-4 w-4"}),P(L)," 후 다시 시도"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x,{className:"mr-2 h-4 w-4"}),"로그인"]})})}),!1]})]})})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-lg text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:"로딩 중..."})]})})}},6881:(e,t,r)=>{Promise.resolve().then(r.bind(r,6774))},8482:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4057).A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},9208:(e,t,r)=>{"use strict";function a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)e[a]=r[a]}return e}r.d(t,{A:()=>s});var s=function e(t,r){function s(e,s,n){if("undefined"!=typeof document){"number"==typeof(n=a({},r,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var o in n){if(n[o])l+="; "+o,!0!==n[o]&&(l+="="+n[o].split(";")[0])}return document.cookie=e+"="+t.write(s,e)+l}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],a={},s=0;s<r.length;s++){var n=r[s].split("="),l=n.slice(1).join("=");try{var o=decodeURIComponent(n[0]);if(a[o]=t.read(l,o),e===o)break}catch(e){}}return e?a[e]:a}},remove:function(e,t){s(e,"",a({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,a({},this.attributes,t))},withConverter:function(t){return e(a({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},e=>{var t=t=>e(e.s=t);e.O(0,[565,441,587,358],()=>t(6881)),_N_E=e.O()}]);